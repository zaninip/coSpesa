:root{
  --bg:#0a0a0a;        /* nero profondo */
  --bg2:#0f0f0f;       /* nero elevato */
  --card:#121212;      /* card */
  --muted:#9aa0a6;     /* testo secondario */
  --brand:#ffd54a;     /* giallo primario */
  --brand-600:#ffc824; /* giallo acceso */
  --ring:#2a2a2a;      /* bordi */
  --shadow: 0 20px 50px rgba(0,0,0,0.35);
}

html, body { height:100%; }
body{
  background: radial-gradient(80rem 60rem at 70% -20%, rgba(255,213,74,0.05), transparent 50%), var(--bg);
  color:#f6f7f9;
  margin:0;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* Glass card */
.card{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00));
  border:1px solid var(--ring);
  border-radius: 16px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(6px);
}

/* Inputs */
.input{
  background: var(--bg2);
  border:1px solid var(--ring);
  border-radius: 12px;
  padding: 12px 14px;
  color: #fff;
  outline: none;
  transition: border 200ms ease, box-shadow 200ms ease, transform 120ms ease;
}
.input:focus{
  border-color: var(--brand);
  box-shadow: 0 0 0 4px rgba(255,213,74,0.15);
}
.input::placeholder{ color:#80868b; }

/* Buttons */
.btn{
  border-radius: 12px;
  padding: 12px 16px;
  border:1px solid transparent;
  font-weight: 600;
  cursor:pointer;
  transition: transform 100ms ease, filter 120ms ease, box-shadow 200ms ease;
}
.btn:active{ transform: translateY(1px) scale(0.99); }

/* Varianti */
.btn-primary{
  background: linear-gradient(180deg, var(--brand), var(--brand-600));
  color:#111;
  box-shadow: 0 6px 20px rgba(255,213,74,0.25);
}
.btn-primary:hover{ filter: brightness(1.04); }

.btn-secondary{
  background: #1a1a1a;
  color:#f5f5f5;
  border-color:#2a2a2a;
}
.btn-secondary:hover{ filter: brightness(1.08); }

.btn-danger{
  background: #2b1111;
  color: #ff8f8f;
  border-color:#512222;
}
.btn-danger:hover{ filter: brightness(1.06); }

/* List items */
.li{
  border:1px solid var(--ring);
  background:#0f0f0f;
  border-radius:14px;
  padding:12px 14px;
}

/* Lista spese dashboard - larghezza limitata su desktop */
@media (min-width: 768px) {
  #shopping-list .li {
    max-width: 50%;
  }
}

/* Badge */
.badge{
  display:inline-flex; align-items:center; gap:.4rem;
  background: rgba(255,213,74,0.12);
  color: var(--brand);
  border:1px solid rgba(255,213,74,0.25);
  padding: 6px 10px; border-radius: 999px; font-weight:600;
}

/* Animazioni */
@keyframes fadeIn { from {opacity:0; transform: translateY(6px);} to {opacity:1; transform:none;} }
.fade-in{ animation: fadeIn .35s ease forwards; }

@keyframes pulseGlow { 0%{ box-shadow: 0 0 0 0 rgba(255,213,74,0.0);} 100%{ box-shadow:0 0 0 10px rgba(255,213,74,0);} }
.glow-once{ animation: pulseGlow 1s ease 1; }

/* Tabelle (history) */
.table{
  width:100%;
  border-collapse: collapse;
  background: #0f0f0f;
  border-radius: 16px;
  overflow: hidden;
  border:1px solid var(--ring);
}
.table th, .table td{
  padding:14px;
  border-bottom:1px solid #1e1e1e;
}
.table th{
  background: #111111;
  text-align:left;
  color:#eaeaea;
  font-weight:700;
}
.table tr:hover td{
  background:#141414;
}

/* Utility */
.container{ max-width: 1080px; margin: 0 auto; padding: 24px; }
.muted{ color: var(--muted); }
.hr{ border-top:1px solid #1f1f1f; margin:16px 0; }

/* Tooltip semplice, desktop + mobile */
.has-tooltip { position: relative; }

.has-tooltip::after {
  content: attr(data-full);
  position: absolute;
  left: 0;
  bottom: 100%;
  margin-bottom: 6px;
  background: #111;
  color: #fff;
  border: 1px solid #2a2a2a;
  border-radius: 8px;
  padding: 6px 8px;
  font-size: 12px;
  line-height: 1.2;
  white-space: normal;
  max-width: 260px;
  box-shadow: 0 8px 20px rgba(0,0,0,.35);
  opacity: 0;
  pointer-events: none;
  transition: opacity .18s ease;
  z-index: 30;
}

/* Mostra tooltip al passaggio del mouse (solo dispositivi con hover) */
@media (hover:hover) {
  .has-tooltip:hover::after { opacity: 1; }
}

/* Mostra tooltip su mobile quando attivo via JS */
.has-tooltip.show-tip::after { opacity: 1; }

/* Animazioni per i prodotti */
.li {
  transition: opacity 0.4s ease-out, transform 0.4s ease-out;
}

/* Stato comprato: barrato + grigio */
.li .name.line-through {
  color: #9ca3af; /* Tailwind text-gray-400 */
  text-decoration: line-through;
}

/* Fade-out (per eliminazione) */
.li.fade-out {
  opacity: 0;
  transform: translateX(20px);
}

.li.fade-out-up {
  opacity: 0;
  transform: translateY(-10px);
}

#app-modal {
  display: none;
}

#app-modal.show {
  display: flex; /* centrato */
  animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

/* ========================================
   HEADER MOBILE - sempre su una riga
   ======================================== */

/* Forza header sempre su una riga, no wrap */
header .container > div {
  flex-wrap: nowrap !important;
}

/* Su mobile riduci gap e padding */
@media (max-width: 640px) {
  /* Riduci gap tra elementi nell'header */
  header .container > div {
    gap: 0.375rem; /* 6px invece di 8px */
  }
  
  /* Badge pi첫 compatto su mobile */
  .badge {
    padding: 4px 8px;
    font-size: 0.75rem; /* 12px */
    white-space: nowrap;
    max-width: 120px;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  
  /* Logo leggermente pi첫 piccolo su mobile */
  header img[alt="CoSpesa"] {
    height: 1.75rem; /* 28px invece di 32px */
  }
  
  /* Pulsanti header pi첫 compatti */
  header .btn {
    padding: 8px 10px;
    font-size: 0.875rem;
  }
  
  /* Language switcher pi첫 compatto */
  header #lang-btn {
    padding: 6px 8px;
    min-width: 60px;
  }
  
  header #lang-btn img {
    width: 1rem;
    height: 1rem;
  }
  
  header #lang-btn i {
    width: 0.875rem;
    height: 0.875rem;
  }
}

/* Per schermi molto piccoli (<360px) riduci ancora */
@media (max-width: 360px) {
  .badge {
    max-width: 80px;
    font-size: 0.7rem;
  }
  
  header .btn {
    padding: 6px 8px;
  }
  
  header .container > div {
    gap: 0.25rem; /* 4px */
  }
}